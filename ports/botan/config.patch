diff --git a/src/build-data/botan-config.cmake.in b/src/build-data/botan-config.cmake.in
index 46e2cbc..70a88ef 100644
--- a/src/build-data/botan-config.cmake.in
+++ b/src/build-data/botan-config.cmake.in
@@ -110,13 +110,13 @@ if(NOT TARGET Botan::Botan)
     PROPERTIES
       INTERFACE_INCLUDE_DIRECTORIES "${_Botan_PREFIX}/include"
       INTERFACE_LINK_OPTIONS        "SHELL:%{cxx_abi_flags}")
-  if(EXISTS "${_Botan_PREFIX}/debug/lib/%{implib_name}")
+%{if implib_name}
     set_property(TARGET Botan::Botan APPEND PROPERTY IMPORTED_CONFIGURATIONS DEBUG)
     set_target_properties(Botan::Botan PROPERTIES
       IMPORTED_IMPLIB_DEBUG "${_Botan_PREFIX}/debug/lib/%{implib_name}"
       IMPORTED_LOCATION_DEBUG "${_Botan_PREFIX}/debug/bin/%{shared_lib_name}"
     )
-  endif()
+%{endif}
   set_property(TARGET Botan::Botan APPEND PROPERTY IMPORTED_CONFIGURATIONS RELEASE)
   set_target_properties(Botan::Botan PROPERTIES
     IMPORTED_IMPLIB_RELEASE "${_Botan_PREFIX}/lib/%{implib_name}"
